Extension Point For Info Tool
#############################

uDig : Extension point for info tool

This page last changed on Sep 21, 2012 by jgarnett.

Motivation
==========

We would like an extension point for the Info tool; so we can allow layers to contribute additional
(or custom) pages to display "hit" results.

Inspiration
===========

| As a reference point here is how it works today:
|  1. Info tool turns around and opens the InfoView; passing it the coordinate that was clicked on.
The InfoView then goes and asks each layer if it has something to say.
|  2. For the layers that do have something to say; they are listed along the left hand side of the
info view (they are basically what the user managed to "hit").
|  3. If the user selects one of them the result is displayed on the right hand side of the info
view. We have hard-coded support for three pages:

-  get feature info (basically a web URL request to a WMS)
-  feature details (we show the feature properties in a normal eclipse properties panel)
-  coverage (I think this is a custom view)

Proposal
========

The proposal is simple in concept; add an extension point at step 3 above - allowing layers to
provide additional page (to teach the info view how to display their results).

Notes:

-  Email request to make an InfoCommand to allow the InfoView to be reused
-  We should "eat our own dog food" and refactor away the hard coded built-in implementations:

   -  WMS Page to be provided by the **net.refractions.udig.catalog.wms** plugin
   -  Rasterings can supply the raster page
   -  Not sure who should supply the default feature implementation

-  Given the above it makes sense to define this extension as part of **catalog.ui** plugin

   -  Specifically this is a general facility for "more detail" that can supply details given a
      filter

-  Note this is an honest extension point - the InfoView just makes use of it (Another application
   may wish to present the same information in a dialog)

| Proposed Interface:

|image0|

User Interface Changes:

-  We have the possibility of having several pages contributed for a single layer. For example it
   may be able to resolve to more than one GeoResource each of witch can contribute a page
-  Solution: Use "tabs" one for each page
-  Alternative: Add more "hits" to the List on the left hand side of the Info View; this would be
   less compacted visually but perhaps more confusing. Perhaps change the left hand side of the
   InfoView into a tree.

Status
======

Project Steering committee support:

-  Andrea Antonello: +0
-  Jesse Eichar: +0
-  Jody Garnett: +0
-  Mauricio Pazos: +0

Committer Support:

-  

A vote of -1 requires an alternate suggestion; community members are invited to indicate
support/suggestions.

Documentation
=============

User guide is unchanged.

The developers guide will need one code example.

Tasks
=====

Â 

no progress

|image1|

in progress

|image2|

blocked

|image3|

help needed

|image4|

done

Tasks:

#. Initial interface implementation; extension point definition
#. Testcases to confirm the functionality of the above (save time with an "online" test against
   local geoserver)
#. Refactor InfoView to use extension point
#. Check Walkthrough 1 to confirm no change of functionality; assume one page is returned
#. Extend InfoView to account for more than one page (tabs or tree)
#. Add code example to developers guide (perhaps just a page listing the FeatureId)

Estimated Delivery: Early Jan

Status:

-  [ UDIG-xxxx http://jira.codehaus.org/browse/UDIG-xxxx]

| 

Attachments:

| |image5| `InfoView.png <download/attachments/13534686/InfoView.png>`__ (image/png)

+------------+----------------------------------------------------------+
| |image7|   | Document generated by Confluence on Aug 11, 2014 12:31   |
+------------+----------------------------------------------------------+

.. |image0| image:: /images/extension_point_for_info_tool/InfoView.png
.. |image1| image:: images/icons/emoticons/star_yellow.gif
.. |image2| image:: images/icons/emoticons/error.gif
.. |image3| image:: images/icons/emoticons/warning.gif
.. |image4| image:: images/icons/emoticons/check.gif
.. |image5| image:: images/icons/bullet_blue.gif
.. |image6| image:: images/border/spacer.gif
.. |image7| image:: images/border/spacer.gif
