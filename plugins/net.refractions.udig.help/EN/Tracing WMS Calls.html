

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tracing WMS Calls &mdash; User Guide</title>
    
    <link rel="stylesheet" href="_static/udig.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.3.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/udig.ico"/>
    <link rel="top" title="User Guide" href="index.html" />
    <link rel="up" title="Support" href="Support.html" />
    <link rel="next" title="Using the Issue Tracker" href="Using the Issue Tracker.html" />
    <link rel="prev" title="Subscribe to the user list" href="Subscribe to the user list.html" /> 
  </head>
  <body>
    <div class="header">
        <div class="wrap">
            <!--div id="searchbox">
                <form class="search" action="search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div-->
        </div>
    </div>
 


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="tracing-wms-calls">
<h1>Tracing WMS Calls<a class="headerlink" href="#tracing-wms-calls" title="Permalink to this headline">¶</a></h1>
<p>Occasionally you will have trouble connecting to a WMS service; here is how to enable tracing.</p>
<ul class="simple">
<li><a class="reference internal" href="#traceing-wms-requests">Traceing WMS Requests</a></li>
<li><a class="reference internal" href="#example-tracing-information">Example Tracing Information</a></li>
<li><a class="reference internal" href="#trouble-shooting-a-wms-server">Trouble Shooting a WMS Server</a></li>
<li><a class="reference internal" href="#mac-osx">Mac OSX</a></li>
</ul>
<div class="section" id="traceing-wms-requests">
<h2>Traceing WMS Requests<a class="headerlink" href="#traceing-wms-requests" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Please use the the provided .options File. The &#8221;.options&#8221; file should be dropped into you uDig
folder to enable additional tracing information.</p>
<ul>
<li><p class="first">Create the following file:</p>
<p><strong>.options</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Master Tracing Options</span>
<span class="c">#Tue Aug 05 14:56:31 PDT 2008</span>
<span class="n">net</span><span class="o">.</span><span class="n">refractions</span><span class="o">.</span><span class="n">udig</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">wms</span><span class="o">/</span><span class="n">debug</span><span class="o">=</span><span class="n">true</span>
<span class="n">net</span><span class="o">.</span><span class="n">refractions</span><span class="o">.</span><span class="n">udig</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">wms</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">request</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
</li>
<li><dl class="first docutils">
<dt>Place it in your uDig folder (next to your udig.exe file):</dt>
<dd><p class="first last">C:\Program Files\uDig\1.1\eclipse</p>
</dd>
</dl>
</li>
</ul>
</li>
<li><p class="first">Now when you restart uDig additional messages will be added to your log. These messages show the
Requests sent to the WMS service.</p>
</li>
<li><p class="first">Check the log for tracing information</p>
</li>
</ol>
<div class="section" id="example-tracing-information">
<h3>Example Tracing Information<a class="headerlink" href="#example-tracing-information" title="Permalink to this headline">¶</a></h3>
<p>When connecting to the JPL server and choosing the blue marble layer the following trace was
produced:</p>
<div class="highlight-python"><pre>!ENTRY net.refractions.udig.catalog.internal.wms 4 0 2008-09-05 08:26:15.561
 !MESSAGE GetCapabilities: `http://wms.jpl.nasa.gov/wms.cgi?REQUEST=GetCapabilities&amp;VERSION=1.1.1&amp;SERVICE=WMS`_

!ENTRY net.refractions.udig.catalog.internal.wms 4 0 2008-09-05 08:26:24.781
 !MESSAGE GetMap: `http://wms.jpl.nasa.gov/wms.cgi?SERVICE=WMS&amp;LAYERS=BMNG&amp;EXCEPTIONS=application/vnd.ogc.se\_xml&amp;FORMAT=image/png&amp;HEIGHT=357&amp;TRANSPARENT=TRUE&amp;REQUEST=GetMap&amp;BBOX=-180.0,-90.0,180.0,90.0&amp;WIDTH=714&amp;STYLES=default&amp;SRS=EPSG:4326&amp;VERSION=1.1.1 &lt;http://wms.jpl.nasa.gov/wms.cgi?SERVICE=WMS&amp;LAYERS=BMNG&amp;EXCEPTIONS=application/vnd.ogc.se_xml&amp;FORMAT=image/png&amp;HEIGHT=357&amp;TRANSPARENT=TRUE&amp;REQUEST=GetMap&amp;BBOX=-180.0,-90.0,180.0,90.0&amp;WIDTH=714&amp;STYLES=default&amp;SRS=EPSG:4326&amp;VERSION=1.1.1&gt;`_</pre>
</div>
<p>The URLs mentioned during tracing can be cut and pasted into a browser to verify an error message,
or see the same image that uDig displayed.</p>
</div>
<div class="section" id="trouble-shooting-a-wms-server">
<h3>Trouble Shooting a WMS Server<a class="headerlink" href="#trouble-shooting-a-wms-server" title="Permalink to this headline">¶</a></h3>
<p>Please keep the following in mind when connecting to a WMS. The URL you provide should be a valid
<strong>GetCapabilities</strong> URL with the following elements:</p>
<ul class="simple">
<li>REQUEST=GetCapabilities: his is actually a requirement; uDig will supply it for you if needed.</li>
<li>SERVICE=WMS: this is also a requirement - many servers speak several protocols</li>
<li>VERSION=X.X.X: this is version of the WMS protocol you would like to use</li>
</ul>
<p>The uDig will enter into &#8220;version negotiation&#8221; with the server using the above information.</p>
<ol class="arabic simple">
<li>uDig will will request the GetCapabilities document with the above information</li>
<li>The server will respond with a valid capabilities document that contains the &#8220;closest&#8221; version
number the server can produce.</li>
<li>Based on this response uDig may<ul>
<li>Connect and ask you to choose a layer; or</li>
<li>Change the VERSION and try again ...</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="mac-osx">
<h3>Mac OSX<a class="headerlink" href="#mac-osx" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>right click on uDig.app and choose &#8220;Show Package Contents&#8221;</li>
<li>Navigate to MacOS folder</li>
<li>Next the the file udig_internal.ini create the file &#8221;.options&#8221; as described above.</li>
</ol>
<p>You can either review the application logs located (from the about udig screen); or start the
application from the command line with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">udig</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">MacOS</span><span class="o">/</span><span class="n">udig_internal</span> <span class="o">-</span><span class="n">consoleLog</span>
</pre></div>
</div>
<p><strong>Related tasks</strong></p>
<p><a class="reference internal" href="View Error Log and Configuration Details.html"><em>View Error Log and Configuration Details</em></a></p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div> 

    <div class="footer">
        &copy; Copyright 2012, Refractions Research.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>