

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction to the Spatial Toolbox &mdash; User Guide</title>
    
    <link rel="stylesheet" href="_static/udig.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.3.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/udig.ico"/>
    <link rel="top" title="User Guide" href="index.html" />
    <link rel="up" title="Getting Started" href="Getting Started.html" />
    <link rel="next" title="Concepts" href="Concepts.html" />
    <link rel="prev" title="What to Do Next" href="getting_started/walkthrough2/WhattoDoNext.html" /> 
  </head>
  <body>
    <div class="header">
        <div class="wrap">
            <!--div id="searchbox">
                <form class="search" action="search.html" method="get">
                    <input id="searchbox-query" type="text" name="q" size="25" value="Search &hellip;" tabindex="3" onblur="if(this.value=='') this.value='Search &hellip;';" onfocus="if(this.value=='Search &hellip;') this.value='';" />
                    <input id="searchbox-submit" type="image" value="Search" src="_static/img/search_icon_green.png" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
            </div-->
        </div>
    </div>
 


    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="introduction-to-the-spatial-toolbox">
<h1>Introduction to the Spatial Toolbox<a class="headerlink" href="#introduction-to-the-spatial-toolbox" title="Permalink to this headline">¶</a></h1>
<p>The Spatial Toolbox View gives the possibility to execute tools from loaded libraries on resources
visualized in uDig.</p>
<p><a class="reference internal" href="#introduction-to-the-spatial-toolbox">Introduction to the Spatial Toolbox</a></p>
<p><a class="reference internal" href="#before-you-start">Before you Start</a></p>
<p><a class="reference internal" href="#download-the-spearfish-example-data">Download the Spearfish example data</a></p>
<p><a class="reference internal" href="#the-spatial-toolbox-view">The Spatial toolbox View</a></p>
<p><a class="reference internal" href="#installing-jgrasstools">Installing JGrasstools</a></p>
<p><a class="reference internal" href="#processing">Processing</a></p>
<p><a class="reference internal" href="#generating-aspect-of-an-elevation-model">Generating Aspect of an Elevation Model</a></p>
<p><a class="reference internal" href="#things-to-try">Things to Try</a></p>
<p><strong>Related reference</strong></p>
<p><a class="reference internal" href="Spatial Toolbox View.html"><em>Spatial Toolbox View</em></a></p>
<p>This is how it looks like when it is enabled:</p>
<div class="figure align-center">
<img alt="" src="_images/omsbox.png" style="width: 80%;" />
</div>
<div class="section" id="before-you-start">
<h2>Before you Start<a class="headerlink" href="#before-you-start" title="Permalink to this headline">¶</a></h2>
<div class="section" id="download-the-spearfish-example-data">
<h3>Download the Spearfish example data<a class="headerlink" href="#download-the-spearfish-example-data" title="Permalink to this headline">¶</a></h3>
<p>In the example we will use a raster elevation model of the Spearfish region.</p>
<ol class="arabic">
<li><p class="first">Download the following file (you can right click and choose <strong>Save as</strong> in most browsers):</p>
<p><a class="reference external" href="http://jgrasstools.googlecode.com/files/spearfish_elevation.zip">spearfish_elevation.zip (spearfish_elevation.zip)</a></p>
</li>
<li><p class="first">Unzip it to your data directory or desktop</p>
</li>
<li><p class="first">This download contains:</p>
<ul class="simple">
<li>elevation.asc</li>
<li>elevation.prj</li>
</ul>
</li>
<li><p class="first">Try to drag it into uDig and see if it look like the following:</p>
</li>
</ol>
<div class="figure">
<img alt="" src="_images/elevation.png" style="width: 80%;" />
</div>
</div>
</div>
<div class="section" id="the-spatial-toolbox-view">
<h2>The Spatial toolbox View<a class="headerlink" href="#the-spatial-toolbox-view" title="Permalink to this headline">¶</a></h2>
<p>Once your raster is loaded you are ready to start to configure the spatial toolbox. First let&#8217;s open
it up:</p>
<ol class="arabic">
<li><p class="first">Find it under <em class="menuselection">Window ‣ Show View ‣ Other...</em></p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_01.png" style="width: 80%;" />
</div>
</li>
<li><p class="first">And then choose the Spatial toolbox:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_02.png" />
</div>
</li>
<li><p class="first">It will probably open up a bit too small, so best thing is to detach it and use it in a separate
window anyways.</p>
</li>
<li><p class="first">To do so right click on the view&#8217;s bar:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_03.png" style="width: 80%;" />
</div>
</li>
<li><p class="first">And voila&#8217;!</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_04.png" style="width: 80%;" />
</div>
</li>
</ol>
</div>
<div class="section" id="installing-jgrasstools">
<h2>Installing JGrasstools<a class="headerlink" href="#installing-jgrasstools" title="Permalink to this headline">¶</a></h2>
<p>The spatial toolbox is able to load and generate graphical user interfaces and link together models
that are developed as OMS3 services.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>OMS3</strong></p>
<p>Object Modeling Services 3 is a standard used for component development employed by the jgrass
project. If you are interested in the details please have a look here:</p>
<ul class="last simple">
<li><a class="reference external" href="http://code.google.com/p/jgrasstools/wiki/OMS3">OMS3 jgrass page</a></li>
<li><a class="reference external" href="http://www.javaforge.com/project/oms">oms javaforge page</a></li>
</ul>
</div>
<p>To load the modules:</p>
<ol class="arabic">
<li><p class="first">Currently one library of spatial tools implemented using OMS3 is the
<a class="reference external" href="http://www.jgrasstools.org/">jgrasstools</a> library.</p>
</li>
<li><p class="first">Therefore it is possible to jump on the jgrass website to get a processing library to use it in
uDig.</p>
</li>
<li><p class="first">At the time of writing the jgrass 0.7.1 library is packaged and available for use</p>
</li>
<li><p class="first">To start to have some fun we need to download two jar files:</p>
<ul class="simple">
<li>the <a class="reference external" href="http://jgrasstools.googlecode.com/files/jgt-jgrassgears-0.7.2.jar">generic GIS modules library</a></li>
<li>the <a class="reference external" href="http://jgrasstools.googlecode.com/files/jgt-hortonmachine-0.7.2.jar">horton machine</a>
for hydro-geomophologic analyses</li>
</ul>
</li>
<li><p class="first">You can download these two files anywhere; for today we will be placing them in a &#8220;jgrass&#8221; folder
in your home directory.</p>
</li>
<li><p class="first">Create a &#8220;jgrass&#8221; folder in your home directory</p>
</li>
<li><p class="first">Download the above two files and place them in the jgrass folder</p>
</li>
<li><p class="first">Then push the last icon of the toolbar:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_05.png" />
</div>
</li>
<li><p class="first">Which will open the settings dialog:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_06.png" />
</div>
</li>
<li><p class="first">The settings dialog allows you to load the libraries by using the + button.</p>
</li>
<li><p class="first">Load the two libraries that you downloaded.</p>
</li>
<li><p class="first">It should, apart of the different paths of the files, like like the following:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_07.png" />
</div>
</li>
<li><p class="first">Once you push the ok button, uDig will search for modules inside the library</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_08.png" />
</div>
</li>
<li><p class="first">Congratulations; the toolbox should now display the modules that were found</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_09.png" />
</div>
</li>
</ol>
</div>
<div class="section" id="processing">
<h2>Processing<a class="headerlink" href="#processing" title="Permalink to this headline">¶</a></h2>
<p>The jgrass project provides a host of valuable processes you can try out; for now we will start with
a simple example.</p>
<div class="section" id="generating-aspect-of-an-elevation-model">
<h3>Generating Aspect of an Elevation Model<a class="headerlink" href="#generating-aspect-of-an-elevation-model" title="Permalink to this headline">¶</a></h3>
<p>To try out spatial processing we will simply create a map of aspect using the elevation model you
already loaded from the sample dataset.</p>
<ol class="arabic">
<li><p class="first">Type in the search box the letters: <strong>asp</strong></p>
</li>
<li><p class="first">The &#8220;Aspect&#8221; module should appear in the list:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_10.png" style="width: 80%;" />
</div>
</li>
<li><p class="first">Please select the Aspect module so we can describe the tabs used to control a service.</p>
</li>
<li><p class="first">inputs tab:</p>
<div class="figure">
<img alt="" src="_images/spatial_toolbox_11.png" style="width: 80%;" />
</div>
<div class="figure">
<img alt="_images/spatial_toolbox_12.png" src="_images/spatial_toolbox_12.png" style="width: 80%;" />
<p class="caption"><strong>outputs tab</strong></p>
</div>
<div class="figure">
<img alt="_images/spatial_toolbox_13.png" src="_images/spatial_toolbox_13.png" style="width: 80%;" />
<p class="caption"><strong>documentation tab</strong></p>
</div>
</li>
<li><p class="first">We will now set up the Aspect service to work with our sample digital elevation model.</p>
</li>
<li><p class="first">To define the input raster to process, simply push the input data button.</p>
<ul>
<li><p class="first">A raster reader dialog will open.</p>
</li>
<li><p class="first">You could browse for the raster, but the simplest thing is to drag the raster map from the
udig layer view into the textfield and let udig do the rest.</p>
<div class="figure">
<img alt="_images/spatial_toolbox_14.png" src="_images/spatial_toolbox_14.png" style="width: 80%;" />
</div>
</li>
</ul>
</li>
<li><p class="first">Output data</p>
<ul>
<li><p class="first">In the case of the output data, we can&#8217;t drag an existing map, so we will have to use the
browse button, which will open in the same folder of the last inserted map.</p>
</li>
<li><p class="first">There we simply write <strong>aspect.asc</strong> to create an esri ascii also as output \ (other formats
supported are tiffs and grass binary rasters)</p>
<div class="figure">
<img alt="_images/spatial_toolbox_15.png" src="_images/spatial_toolbox_15.png" style="width: 80%;" />
</div>
</li>
</ul>
</li>
<li><p class="first">Configure</p>
<ul>
<li><p class="first">Before we run the module there are a couple of configuration options that are useful to
control.</p>
</li>
<li><p class="first">The most important is the amount of memory that we permit the module to use:</p>
<blockquote>
<div><div class="figure">
<img alt="_images/spatial_toolbox_16.png" src="_images/spatial_toolbox_16.png" />
</div>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">In the above example the local machine has 8 gigabytes of RAM, allowing us to easily allocate
2000 megabytes for for the work</p>
</li>
<li><p class="first">Execute the module</p>
<ul>
<li><p class="first">To execute the module please click the <strong>run</strong> button in the view toolbar</p>
<div class="figure">
<img alt="_images/spatial_toolbox_17.png" src="_images/spatial_toolbox_17.png" />
</div>
</li>
<li><p class="first">The module will execute opening a console window that gives feedback on what is going on.</p>
</li>
</ul>
</li>
<li><p class="first">Once the process is done, the resulting map is loaded in the map window:</p>
<div class="figure">
<img alt="_images/spatial_toolbox_18.png" src="_images/spatial_toolbox_18.png" style="width: 80%;" />
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="things-to-try">
<h2>Things to Try<a class="headerlink" href="#things-to-try" title="Permalink to this headline">¶</a></h2>
<p>Congratulations on finishing this tutorials; here are a couple of things to try:</p>
<ul class="simple">
<li>Review the documentation of some of the other services made available</li>
<li>Check out the jgrass website for additional information about the project</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div> 

    <div class="footer">
        &copy; Copyright 2012, Refractions Research.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>