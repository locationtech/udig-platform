<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         id="eu.udig.tools.jgrass"
         name="%tools.name"
         point="net.refractions.udig.project.ui.tool">
      <modalTool
            categoryId="net.refractions.udig.tool.category.info"
            class="eu.udig.tools.jgrass.coverageinfo.WhatRastTool"
            icon="icons/d_what_rast.png"
            id="eu.hydrologis.jgrass.whatrast.whatrasttool"
            name="%whatrast.name"
            onToolbar="false"
            toolCursorId="whatrastCursor"
            tooltip="%whatrast.tooltip">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/measure_source.gif">
         </cursor>
      </modalTool>
      <toolCursor
            hotspotX="10"
            hotspotY="10"
            id="whatrastCursor"
            image="icons/measure_source.gif"/>
      <modalTool
            categoryId="net.refractions.udig.tool.category.info"
            class="eu.udig.tools.jgrass.profile.ProfileTool"
            id="eu.udig.tools.jgrass.profiletool"
            name="%profile.name"
            onToolbar="true"
            toolCursorId="profileCursor"
            tooltip="%profile.tooltip">
               <cursor
                     hotspotX="10"
                     hotspotY="10"
                     id="profileCursor"
                     image="icons/profilecursor.gif">
               </cursor>
      </modalTool>
      <toolCursor
            hotspotX="10"
            hotspotY="10"
            id="profileCursor"
            image="icons/profilecursor.gif"/>
      <modalTool
            categoryId="net.refractions.udig.tool.category.info"
            class="eu.udig.tools.jgrass.correct.RcorrectTool"
            icon="icons/r_correct.png"
            id="eu.udig.tools.jgrass.rcorrecttool"
            name="%rcorrect.name"
            onToolbar="false"
            toolCursorId="rcorrectCursor"
            tooltip="%rcorrect.tooltip">
               <cursor
                     hotspotX="10"
                     hotspotY="10"
                     id="rcorrectCursor"
                     image="icons/measure_source.gif">
               </cursor>
      </modalTool>
      <toolCursor
            hotspotX="10"
            hotspotY="10"
            id="rcorrectCursor"
            image="icons/measure_source.gif"/>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="true"
            class="eu.udig.tools.jgrass.profile.ProfileView"
            icon="icons/profileview.png"
            id="eu.udig.tools.jgrass.profileview"
            name="Profile View"
            restorable="false">
      </view>
      <view
            allowMultiple="false"
            class="eu.udig.tools.jgrass.navigationview.NavigationView"
            fastViewWidthRatio="0.20"
            icon="icons/globe16.png"
            id="eu.udig.tools.jgrass.navigationview.NavigationView"
            name="Navigation"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            class="eu.udig.tools.jgrass.coverageexport.TiffAsciiExportWizard"
            icon="icons/grid_obj.gif"
            id="eu.udig.tools.jgrass.rasterexport.TiffAsciiExportWizard"
            name="Export coverage to tiff or esri ascii">
      </wizard>
      <wizard
            class="eu.udig.tools.jgrass.kml.wizard.KmlExportWizard"
            icon="icons/icon_kml.png"
            id="eu.udig.tools.jgrass.kml.wizard.KmlExportWizard"
            name="Export feature layer to kml">
      </wizard>
   </extension>
   <extension
         point="net.refractions.udig.ui.operation">
      <operation
            categoryId="eu.udig.tools.jgrass.toolscategory"
            class="eu.udig.tools.jgrass.orientationview.ViewFeatureOrientation"
            enablesFor="1"
            icon="icons/view_orientation.gif"
            id="eu.udig.tools.jgrass.orientationview.ViewFeatureOrientation"
            name="View lines orientation"
            targetClass="net.refractions.udig.project.ILayer">
            <enablement>
             <and>
               <property propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>  
               <or>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.MultiLineString"/>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.LineString"/>
               </or>
             </and>
            </enablement>
      </operation>
      <operation
            categoryId="eu.udig.tools.jgrass.toolscategory"
            class="eu.udig.tools.jgrass.orientationview.ReverseFeatureOrientation"
            enablesFor="1"
            icon="icons/invert.gif"
            id="eu.udig.tools.jgrass.orientationview.ReverseFeatureOrientation"
            name="Invert geometry orientation"
            targetClass="net.refractions.udig.project.ILayer">
            <enablement>
             <and>
               <property propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>  
               <or>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.MultiLineString"/>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.LineString"/>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.MultiPolygon"/>
                    <property propertyId="net.refractions.udig.project.ui.GeometryType" expectedValue="com.vividsolutions.jts.geom.Polygon"/>
               </or>
             </and>
            </enablement>
      </operation>
      <operation
            categoryId="eu.udig.tools.jgrass.toolscategory"
            class="eu.udig.tools.jgrass.movefeatures.FeatureUpMover"
            enablesFor="1"
            icon="icons/prev_nav.gif"
            id="eu.udig.tools.jgrass.movefeatures.FeatureUpMover"
            name="Move features one layer up"
            targetClass="net.refractions.udig.project.ILayer">
            <enablement>
             <and>
               <property propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>  
             </and>
            </enablement>
      </operation>
      <operation
            categoryId="eu.udig.tools.jgrass.toolscategory"
            class="eu.udig.tools.jgrass.movefeatures.FeatureDownMover"
            enablesFor="1"
            icon="icons/next_nav.gif"
            id="eu.udig.tools.jgrass.movefeatures.FeatureDownMover"
            name="Move features one layer down"
            targetClass="net.refractions.udig.project.ILayer">
            <enablement>
             <and>
               <property propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>  
             </and>
            </enablement>
      </operation>
      <operation
            categoryId="eu.udig.tools.jgrass.toolscategory"
            class="eu.udig.tools.jgrass.profile.FeatureOnCoverageProfileOperation"
            enablesFor="2"
            id="eu.udig.tools.jgrass.profile.fromfeature"
            name="%feature.profile"
            targetClass="net.refractions.udig.project.ILayer">
         <enablement></enablement>
      </operation>
      <category
            id="eu.udig.tools.jgrass.toolscategory"
            name="JGrass Tools">
      </category>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            category="eu.udig.featureimportcategory"
            class="eu.udig.tools.jgrass.csv.CsvImportWizard"
            icon="icons/goto_input.gif"
            id="eu.udig.tools.jgrass.csv.CsvImportWizard"
            name="CSV import">
         <description>
            Import a file in the CSV format from the local file system into the workspace.
         </description>
      </wizard>
      <category
            id="eu.udig.featureimportcategory"
            name="%import2featurelayer">
      </category>
      <wizard
            category="eu.udig.featureimportcategory"
            class="eu.udig.tools.jgrass.kml.wizard.KmlImportWizard"
            icon="icons/icon_kml.png"
            id="eu.udig.tools.jgrass.kml.wizard.KmlImportWizard"
            name="Kml to Shapefile import">
         <description>
            Import a kml file into the workspace.
         </description>
      </wizard>
   </extension>
</plugin>
